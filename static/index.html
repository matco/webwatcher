<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Webwatcher</title>
		<!--css inclusion-->
		<link href="index.css" rel="stylesheet" type="text/css" title="defaut" />
		<link href="js/grid/grid.css" rel="stylesheet" type="text/css" />
		<!--javascript inclusion-->
		<script type="text/javascript" src="js/tools/extension.js"></script>
		<script type="text/javascript" src="js/tools/browser_extension.js"></script>
		<script type="text/javascript" src="js/grid/grid.js"></script>
		<script type="text/javascript" src="js/hash.js"></script>
		<script type="text/javascript" src="js/router.js"></script>
		<script type="text/javascript" src="js/ui.js"></script>
		<script type="text/javascript" src="js/restify.js"></script>
		<script type="text/javascript" src="js/authentication.js"></script>
		<script type="text/javascript" src="js/configuration.js"></script>
		<script type="text/javascript" src="js/status.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
	</head>
	<body>
		<div id="modal_overlay"></div>

		<div id="notification"></div>

		<form id="initialization" method="post" action="#" class="modal">
			<h2>Initialization</h2>
			<p id="initialization_error" class="error"></p>
			<p>
				<label>
					<span>Password</span>
					<input name="password_1" type="password" required="required" />
				</label>
			</p>
			<p>
				<label>
					<span>Retype password</span>
					<input name="password_2" type="password" required="required" />
				</label>
			</p>
			<menu>
				<button>Validate</button>
			</menu>
		</form>

		<form id="authentication" method="post" action="#" class="modal">
			<h2>Authentication</h2>
			<p id="authentication_error" class="error"></p>
			<p>
				<label>
					<span>Password</span>
					<input name="password" type="password" required="required" />
				</label>
			</p>
			<menu>
				<button id="authentication_cancel" type="button">Cancel</button>
				<button>Login</button>
			</menu>
		</form>

		<div id="content" style="display: none;">
			<header>
				<h1>Webwatcher</h1>
				<ul>
					<li><a id="menu_config" href="#section=config">Configuration</a></li>
					<li><a id="menu_status" href="#section=status">Status</a></li>
				</ul>
				<button id="login">Login</button>
				<button id="logout" style="display: none;">Logout</button>
			</header>

			<div id="config">
				<aside>
					<ul>
						<li data-tab="section_1">Main</li>
						<li data-tab="section_2">Subscribers</li>
						<li data-tab="section_3">Websites</li>
						<li data-tab="section_4">Other</li>
					</ul>
				</aside>
				<div>
					<div id="section_1">
						<h2>Main</h2>
						<form id="configuration" method="post" action="#">
							<p>
								<label>
									<span>Make website private</span>
									<input name="protect_app" type="checkbox" />
									your password is required to view websites status
								</label>
							</p>
							<p>
								<label>
									<span>Sender e-mail</span>
									<input name="sender_email" type="email" required="required" />
								</label>
							</p>
							<p>
								<label>
									<span>Timeout</span>
									<input name="website_timeout" type="number" min="1" required="required" />
									in seconds
								</label>
							</p>
							<p>
								<label>
									<span>Avoid cache</span>
									<input name="avoid_cache" type="checkbox" />
									add a timestamp to website URLs (warning, this could trigger false positive on some websites)
								</label>
							</p>
							<p>
								<button>Save</button>
							</p>
						</form>
					</div>
					<div id="section_2">
						<h2>Subscribers</h2>
						<table>
							<thead>
								<tr>
									<th style="width: 300px;">E-mail</th>
									<th style="width: 100px;">Actions</th>
								</tr>
							</thead>
							<tbody id="subscribers"></tbody>
						</table>
						<h2>Add a subscriber</h2>
						<form id="subscriber" method="post" action="#">
							<p>
								<label>
									<span>E-mail</span>
									<input name="email" type="email" required="required" />
								</label>
							</p>
							<p>
								<button>Add subscriber</button>
							</p>
						</form>
					</div>
					<div id="section_3">
						<h2>Websites</h2>
						<table style="width: 100%;">
							<thead>
								<tr>
									<th style="width: 120px;">Name</th>
									<th style="width: 280px;">URL</th>
									<th>Texts</th>
									<th style="width: 150px;">Actions</th>
								</tr>
							</thead>
							<tbody id="websites"></tbody>
						</table>
						<button id="website_add">Add website</button>
						<form id="website" method="post" action="#" style="display: none;">
							<h2>Website</h2>
							<p>
								<label>
									<span>Name</span>
									<input name="name" required="required" placeholder="Example" pattern="[A-Za-z0-9]+" />
								</label>
							</p>
							<p>
								<label>
									<span>URL</span>
									<input name="url" type="url" required="required" placeholder="http://www.example.org" />
								</label>
							</p>
							<p>
								<label>
									<span>Texts</span>
									<input name="texts" placeholder="Example Domain" />
								</label>
							</p>
							<p>
								<button>Save</button>
								<button id="website_cancel" type="reset">Cancel</button>
							</p>
						</form>
					</div>
					<div id="section_4">
						<h2>Other</h2>
						<p>
							<button id="recalculate">Recalculate websites downtime</button>
						</p>
					</div>
				</div>
			</div>

			<div id="status">
				<h2>Websites status<button id="status_check_now" style="margin-left: 10px;">Check now</button></h2>
				<!--<p>
					Last check <time id="status_last_check"></time>.
				</p>-->
				<div id="states"></div>

				<div id="website_details" class="modal">
					<h2>Details for <a id="website_details_link" href="#"></a></h2>
					<p>
						<span id="website_details_age"></span>.
						<span id="website_details_check"></span>
					</p>
					<div id="website_details_downtimes"></div>
					<menu>
						<a href="#section=status" class="button">Close</a>
					</menu>
				</div>
			</div>
		</div>
	</body>
</html>